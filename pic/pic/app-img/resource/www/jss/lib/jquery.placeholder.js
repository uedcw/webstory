(function(e){typeof define=="function"&&define.amd?define(["jquery"],e):typeof exports=="object"?e(require("jquery")):e(jQuery)})(function(e){var t="placeholder",n=document,r=Object.prototype.toString.call(window.operamini)=="[object OperaMini]",i="placeholder"in n.createElement("input")&&"placeholder"in n.createElement("textarea")&&!r,s={FOCUS:"focus.placeholder",BLUR:"blur.placeholder"},o={cssClass:"placeholder",normalize:!1},u=e.fn.val,a=function(t){return e.nodeName(t,"input")||e.nodeName(t,"textarea")},f=function(t){var n=["placeholder","name","id"],r={},i;for(var s=0,o=t.attributes.length;s<o;s++)i=t.attributes[s],i.specified&&e.inArray(i.name,n)<0&&(r[i.name]=i.value);return r},l=function(e){e.css({position:"",left:""})},c=function(e){e.css({position:"absolute",left:"-9999em"})};if(i&&!o.normalize)return;i?i&&o.normalize&&(e.fn.val=function(){var n=arguments,r=this[0];if(!r)return;return n.length?this.each(function(r,i){var s=e(i),o=e.data(i,t),f=i._placeholder;o&&f&&a(i)&&(!n[0]&&i.value!==f?s.addClass(o.cssClass).attr("placeholder",f):n[0]&&s.hasClass(o.cssClass)&&s.removeClass(o.cssClass)),u.apply(s,n)}):u.apply(this,n)}):e.fn.val=function(){var n=arguments,r=this[0],i;if(!r)return;return n.length?this.each(function(r,i){var s=e(i),o=e.data(i,t),f=s.attr("placeholder");o&&f&&a(i)?!n[0]&&i.value!==f?i.value=s.addClass(o.cssClass).attr("placeholder"):n[0]&&(s.hasClass(o.cssClass)&&s.removeClass(o.cssClass),u.apply(s,n)):u.apply(s,n)}):(i=e(r).attr("placeholder"),i&&a(r)?r.value===i?"":r.value:u.apply(this,n))},e.fn[t]=function(n){var r=e.extend(o,n);if(!this.length||i&&!r.normalize)return;return n==="destroy"?this.filter(function(n,r){return e.data(r,t)}).removeClass(r.cssClass).each(function(n,r){var s=e(r).unbind(".placeholder"),o=r.type==="password",a=s.attr("placeholder");i?delete r._placeholder:(r.value===a&&(r.value=""),o&&(l(s),s.prev().unbind(".placeholder").remove())),e.fn.val=u,e.removeData(r,t)}):this.each(function(n,o){if(e.data(o,t))return;e.data(o,t,r);var u=e(o),a=o.type==="password",h=u.attr("placeholder"),p=null,d=null,v=null;i?i&&r.normalize&&(o._placeholder=u.attr("placeholder"),d=function(){o.value||u.addClass(r.cssClass).attr("placeholder",h)},v=function(){u.removeAttr("placeholder").removeClass(r.cssClass)}):(d=function(){u.val()?u.val()&&a&&v():a?(l(p),c(u)):u.val(h).addClass(r.cssClass)},a?(v=function(){l(u),c(p)},p=e("<input>",e.extend(f(o),{type:"text",value:h,tabindex:-1})).addClass(r.cssClass).bind(s.FOCUS,function(){u.trigger(s.FOCUS)}).insertBefore(u)):v=function(){u.hasClass(r.cssClass)&&(o.value="",u.removeClass(r.cssClass))}),u.bind(s.BLUR,d).bind(s.FOCUS,v).trigger(s.BLUR)})},e(function(){e("input[placeholder], textarea[placeholder]")[t]()})});