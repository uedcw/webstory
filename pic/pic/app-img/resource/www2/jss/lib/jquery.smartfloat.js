(function(e){typeof define=="function"&&define.amd?define(["jquery"],e):typeof exports=="object"?e(require("jquery")):e(jQuery)})(function(e){e.fn.smartfloat=function(t){return this.each(function(){var n=e(this),r=e(window).width(),i=n.offset().top,s=n.offset().left,o=n.css("position"),u=n.css("top"),a=n.css("left"),f=n.css("z-index"),l=n.css("margin"),c=n.css("width"),h=e.extend({top:10,left:s,zindex:77,margin:0,width:c,placeholder:!1},t||{}),p=h.top,d=h.left,v=h.zindex,m=h.margin,g=h.width,y=h.placeholder,b;b=e("<div/>").css({position:o,left:a,"margin-left":n.css("margin-left")}).insertAfter(n),e(window).scroll(function(){var t=e(this).scrollTop();t+p>i?(y&&b.css({top:u,width:n.outerWidth(),height:n.outerHeight(),margin:l}),n.addClass("smart-float"),window.XMLHttpRequest?n.css({position:"fixed",top:p,left:d,"z-index":v,margin:m,width:g}):n.css({position:"absolute",top:t+p,left:a,"z-index":v,margin:m,width:g})):(y&&b.css({top:"auto",width:"auto",height:"auto",margin:"0","margin-left":n.css("margin-left")}),n.removeClass("smart-float").css({position:o,top:u,left:a,"z-index":f,margin:l,width:c}))}).resize(function(){if(t&&t.left)return;d=b.offset().left,e(window).scroll()}).trigger("scroll")})}});