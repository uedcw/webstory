define("ajaxtpl",["jquery"],function(e){var t=window.DB.leng;return function(n,r,i){r=r||e.noop(),i=i||"index";var s=document.getElementById(n);s?r(s,n,i):e.get("/"+t+"/index.php?app=ajaxhtml&tp=new",{boxid:n,act:i},function(t){t!==""?(e(document.body).append(t),r(document.getElementById(n),n,i)):alert("no tpl: "+n)})}}),define("popup",["jquery"],function(e){function i(){this.destroyed=!1,this.__popup=e("<div />").css({display:"none",position:"absolute",outline:0}).attr("tabindex","-1").html(this.innerHTML).appendTo("body"),this.__backdrop=this.__mask=e("<div />").css({opacity:.7,background:"#000"}),this.node=this.__popup[0],this.backdrop=this.__backdrop[0],t++}var t=0,n=!("minWidth"in e("html")[0].style),r=!n;return e.extend(i.prototype,{node:null,backdrop:null,fixed:!1,destroyed:!0,open:!1,returnValue:"",autofocus:!0,align:"bottom left",innerHTML:"",className:"ui-popup",show:function(t){if(this.destroyed)return this;var s=this,o=this.__popup,u=this.__backdrop;this.__activeElement=this.__getActive(),this.open=!0,this.follow=t||this.follow;if(!this.__ready){o.addClass(this.className).attr("role",this.modal?"alertdialog":"dialog").css("position",this.fixed?"fixed":"absolute"),n||e(window).on("resize",e.proxy(this.reset,this));if(this.modal){var a={position:"fixed",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",userSelect:"none",zIndex:this.zIndex||i.zIndex};o.addClass(this.className+"-modal"),r||e.extend(a,{position:"absolute",width:e(window).width()+"px",height:e(document).height()+"px"}),u.css(a).attr({tabindex:"0"}).on("focus",e.proxy(this.focus,this)),this.__mask=u.clone(!0).attr("style","").insertAfter(o),u.addClass(this.className+"-backdrop").insertBefore(o),this.__ready=!0}o.html()||o.html(this.innerHTML)}return o.addClass(this.className+"-show").show(),u.show(),this.reset().focus(),this.__dispatchEvent("show"),this},showModal:function(){return this.modal=!0,this.show.apply(this,arguments)},close:function(e){return!this.destroyed&&this.open&&(e!==undefined&&(this.returnValue=e),this.__popup.hide().removeClass(this.className+"-show"),this.__backdrop.hide(),this.open=!1,this.blur(),this.__dispatchEvent("close")),this},remove:function(){if(this.destroyed)return this;this.__dispatchEvent("beforeremove"),i.current===this&&(i.current=null),this.__popup.remove(),this.__backdrop.remove(),this.__mask.remove(),n||e(window).off("resize",this.reset),this.__dispatchEvent("remove");for(var t in this)delete this[t];return this},reset:function(){var e=this.follow;return e?this.__follow(e):this.__center(),this.__dispatchEvent("reset"),this},focus:function(){var t=this.node,n=this.__popup,r=i.current,s=this.zIndex=i.zIndex++;r&&r!==this&&r.blur(!1);if(!e.contains(t,this.__getActive())){var o=n.find("[autofocus]")[0];!this._autofocus&&o?this._autofocus=!0:o=t,this.__focus(o)}return n.css("zIndex",s),i.current=this,n.addClass(this.className+"-focus"),this.__dispatchEvent("focus"),this},blur:function(){var e=this.__activeElement,t=arguments[0];return t!==!1&&this.__focus(e),this._autofocus=!1,this.__popup.removeClass(this.className+"-focus"),this.__dispatchEvent("blur"),this},addEventListener:function(e,t){return this.__getEventListener(e).push(t),this},removeEventListener:function(e,t){var n=this.__getEventListener(e);for(var r=0;r<n.length;r++)t===n[r]&&n.splice(r--,1);return this},__getEventListener:function(e){var t=this.__listener;return t||(t=this.__listener={}),t[e]||(t[e]=[]),t[e]},__dispatchEvent:function(e){var t=this.__getEventListener(e);this["on"+e]&&this["on"+e]();for(var n=0;n<t.length;n++)t[n].call(this)},__focus:function(e){try{this.autofocus&&!/^iframe$/i.test(e.nodeName)&&e.focus()}catch(t){}},__getActive:function(){try{var e=document.activeElement,t=e.contentDocument,n=t&&t.activeElement||e;return n}catch(r){}},__center:function(){var t=this.__popup,n=e(window),r=e(document),i=this.fixed,s=i?0:r.scrollLeft(),o=i?0:r.scrollTop(),u=n.width(),a=n.height(),f=t.width(),l=t.height(),c=(u-f)/2+s,h=(a-l)*382/1e3+o,p=t[0].style;p.left=Math.max(parseInt(c),s)+"px",p.top=Math.max(parseInt(h),o)+"px"},__follow:function(t){var n=t.parentNode&&e(t),r=this.__popup;this.__followSkin&&r.removeClass(this.__followSkin);if(n){var i=n.offset();if(i.left*i.top<0)return this.__center()}var s=this,o=this.fixed,u=e(window),a=e(document),f=u.width(),l=u.height(),c=a.scrollLeft(),h=a.scrollTop(),p=r.width(),d=r.height(),v=n?n.outerWidth():0,m=n?n.outerHeight():0,g=this.__offset(t),y=g.left,b=g.top,w=o?y-c:y,E=o?b-h:b,S=o?0:c,x=o?0:h,T=S+f-p,N=x+l-d,C={},k=this.align.split(" "),L=this.className+"-",A={top:"bottom",bottom:"top",left:"right",right:"left"},O={top:"top",bottom:"top",left:"left",right:"left"},M=[{top:E-d,bottom:E+m,left:w-p,right:w+v},{top:E,bottom:E-d+m,left:w,right:w-p+v}],_={left:w+v/2-p/2,top:E+m/2-d/2},D={left:[S,T],top:[x,N]};e.each(k,function(e,t){M[e][t]>D[O[t]][1]&&(t=k[e]=A[t]),M[e][t]<D[O[t]][0]&&(k[e]=A[t])}),k[1]||(O[k[1]]=O[k[0]]==="left"?"top":"left",M[1][k[1]]=_[O[k[1]]]),L+=k.join("-")+" "+this.className+"-follow",s.__followSkin=L,n&&r.addClass(L),C[O[k[0]]]=parseInt(M[0][k[0]]),C[O[k[1]]]=parseInt(M[1][k[1]]),r.css(C)},__offset:function(t){var n=t.parentNode,r=n?e(t).offset():{left:t.pageX,top:t.pageY};t=n?t:t.target;var i=t.ownerDocument,s=i.defaultView||i.parentWindow;if(s==window)return r;var o=s.frameElement,u=e(i),a=u.scrollLeft(),f=u.scrollTop(),l=e(o).offset(),c=l.left,h=l.top;return{left:r.left+c-a,top:r.top+h-f}}}),i.zIndex=1024,i.current=null,i}),define("dialog-config",{autofocusDefBut:"ok",backdropBackground:"#000",backdropOpacity:.7,content:'<span class="ui-dialog-loading">Loading..</span>',title:"",statusbar:"",button:null,ok:null,cancel:null,okValue:"OK",cancelValue:"Cancel",cancelDisplay:!0,width:"",height:"",padding:"",skin:"",quickClose:!1,cssUri:"",innerHTML:'<div i="dialog" class="ui-dialog"><div class="ui-dialog-arrow-a"></div><div class="ui-dialog-arrow-b"></div><table class="ui-dialog-grid"><tr><td i="header" class="ui-dialog-header"><button i="close" class="ui-dialog-close">&#215;</button><div i="title" class="ui-dialog-title"></div></td></tr><tr><td i="body" class="ui-dialog-body"><div i="content" class="ui-dialog-content"></div></td></tr><tr><td i="footer" class="ui-dialog-footer"><div i="statusbar" class="ui-dialog-statusbar"></div><div i="button" class="ui-dialog-button"></div></td></tr></table></div>'}),define("dialog",["jquery","popup","dialog-config"],function(e,t,n){var r=0,i=new Date-0,s=!("minWidth"in e("html")[0].style),o="createTouch"in document&&!("onmousemove"in document)||/(iPhone|iPad|iPod)/i.test(navigator.userAgent),u=!s&&!o,a=function(t,n,s){var f=t=t||{};if(typeof t=="string"||t.nodeType===1)t={content:t,fixed:!o};t=e.extend(!0,{},a.defaults,t),t.original=f;var l=t.id=t.id||i+r,c=a.get(l);return c?c.focus():(u||(t.fixed=!1),t.quickClose&&(t.modal=!0,t.backdropOpacity=0),e.isArray(t.button)||(t.button=[]),s!==undefined&&(t.cancel=s),t.cancel&&t.button.push({id:"cancel",value:t.cancelValue,callback:t.cancel,display:t.cancelDisplay,autofocus:t.autofocusDefBut=="cancel"}),n!==undefined&&(t.ok=n),t.ok&&t.button.push({id:"ok",value:t.okValue,callback:t.ok,autofocus:t.autofocusDefBut=="ok"}),a.list[l]=new a.create(t))},f=function(){};f.prototype=t.prototype;var l=a.prototype=new f;return a.create=function(n){var i=this;e.extend(this,new t);var s=n.original,o=e(this.node).html(n.innerHTML),u=e(this.backdrop);return this.options=n,this._popup=o,e.each(n,function(e,t){typeof i[e]=="function"?i[e](t):i[e]=t}),n.zIndex&&(t.zIndex=n.zIndex),o.attr({"aria-labelledby":this._$("title").attr("id","title:"+this.id).attr("id"),"aria-describedby":this._$("content").attr("id","content:"+this.id).attr("id")}),this._$("close").css("display",this.cancel===!1?"none":"").attr("title",this.cancelValue).on("click",function(e){i._trigger("cancel"),e.preventDefault()}),this._$("dialog").addClass(this.skin),this._$("body").css("padding",this.padding),n.quickClose&&u.on("onmousedown"in document?"mousedown":"click",function(){return i._trigger("cancel"),!1}),this.addEventListener("show",function(){u.css({opacity:0,background:n.backdropBackground}).animate({opacity:n.backdropOpacity},150)}),this._esc=function(e){var n=e.target,r=n.nodeName,s=/^input|textarea$/i,o=t.current===i,u=e.keyCode;if(!o||s.test(r)&&n.type!=="button")return;u===27&&i._trigger("cancel")},e(document).on("keydown",this._esc),this.addEventListener("remove",function(){e(document).off("keydown",this._esc),delete a.list[this.id]}),r++,a.oncreate(this),this},a.create.prototype=l,e.extend(l,{content:function(t){var n=this._$("content");return typeof t=="object"?(t=e(t),n.empty("").append(t.show()),this.addEventListener("beforeremove",function(){e("body").append(t.hide())})):n.html(t),this.reset()},title:function(e){return this._$("title").text(e),this._$("header")[e?"show":"hide"](),this},width:function(e){return this._$("content").css("width",e),this.reset()},height:function(e){return this._$("content").css("height",e),this.reset()},button:function(t){t=t||[];var n=this,r="",i=0;return this.callbacks={},typeof t=="string"?(r=t,i++):e.each(t,function(t,s){var o=s.id=s.id||s.value,u="";n.callbacks[o]=s.callback,s.display===!1?u=' style="display:none"':i++,r+='<button type="button" i-id="'+o+'"'+u+(s.disabled?" disabled":"")+(s.autofocus?' autofocus class="ui-dialog-autofocus"':"")+">"+s.value+"</button>",n._$("button").on("click","[i-id="+o+"]",function(t){var r=e(this);r.attr("disabled")||n._trigger(o),t.preventDefault()})}),this._$("button").html(r),this._$("footer")[i?"show":"hide"](),this},statusbar:function(e){return this._$("statusbar").html(e)[e?"show":"hide"](),this},_$:function(e){return this._popup.find("[i="+e+"]")},_trigger:function(e){var t=this.callbacks[e];return typeof t!="function"||t.call(this)!==!1?this.close().remove():this}}),a.oncreate=e.noop,a.getCurrent=function(){return t.current},a.get=function(e){return e===undefined?a.list:a.list[e]},a.list={},a.defaults=n,a}),define("message",["jquery","ajaxtpl","dialog"],function(e,t,n){function o(e,t){e=e||"success";var n=i?' style="'+i+'"':"",r=s?" "+s:"";return'<table class="sys_mess"><tr><th valign="center"><div class="ico ico_'+e+'"></div></th><td valign="center"><div class="msg'+s+'"'+n+">"+t+"</div></td></tr></table>"}function u(t,i,s){var u=e.extend({title:r.title,content:""},s);return u.content||(u.content=o(t,i)),n(u)}function a(t){return e.isFunction(t)}function f(t){var n={autofocusDefBut:"cancel",cancelValue:r.cancel,cancel:function(){return!0}};return typeof t=="undefined"?n:a(t)?(n.cancel=t,n):("styles"in t&&(i=t.styles,delete t.styles),"addcss"in t&&(s=t.addcss,delete t.addcss),e.isEmptyObject(t)?n:e.extend(n,t))}function l(e,t){var n=f(t);n.cancelValue=r.ok;var i=u("success",e,n);return i.showModal()}function c(e,t){var n=f(t),r=u("error",e,n);return r.showModal()}function h(e,t){var n=f(t),r=u("warning",e,n);return r.showModal()}function p(r,i,s,o){i=i||e.noop(),s=s||e.noop(),o=o||"index",t(r,function(e,t,r){n({id:t+"_win",content:e,title:"loading",onshow:i,onremove:s}).showModal()},o)}if(window["DB"].leng=="zh")var r={title:"消 息",ok:"确 定",cancel:"取 消"};else var r={title:"Message",ok:"OK",cancel:"Cancel"};var i="",s="";return{success:l,ok:l,error:c,warning:h,win:p,dialog:n}}),define("ajaxtpl_new",["jquery"],function(e){var t=window.DB.leng;return function(n,r,i){r=r||e.noop(),i=i||"index";var s=document.getElementById(n);s?r(s,n,i):e.get("/dialog_page//wintpl/"+n+"_"+t+".html",function(t){t!==""?(e(document.body).append(t),r(document.getElementById(n),n,i)):alert("no tpl: "+n)})}}),define("message_new",["jquery","ajaxtpl_new","dialog"],function(e,t,n){function o(e,t){e=e||"success";var n=i?' style="'+i+'"':"",r=s?" "+s:"";return'<table class="sys_mess"><tr><th valign="center"><div class="ico ico_'+e+'"></div></th><td valign="center"><div class="msg'+s+'"'+n+">"+t+"</div></td></tr></table>"}function u(t,i,s){var u=e.extend({title:r.title,content:""},s);return u.content||(u.content=o(t,i)),n(u)}function a(t){return e.isFunction(t)}function f(t){var n={autofocusDefBut:"cancel",cancelValue:r.cancel,cancel:function(){return!0}};return typeof t=="undefined"?n:a(t)?(n.cancel=t,n):("styles"in t&&(i=t.styles,delete t.styles),"addcss"in t&&(s=t.addcss,delete t.addcss),e.isEmptyObject(t)?n:e.extend(n,t))}function l(e,t){var n=f(t);n.cancelValue=r.ok;var i=u("success",e,n);return i.showModal()}function c(e,t){var n=f(t),r=u("error",e,n);return r.showModal()}function h(e,t){var n=f(t),r=u("warning",e,n);return r.showModal()}function p(r,i,s,o){i=i||e.noop(),s=s||e.noop(),o=o||"index",t(r,function(e,t,r){n({id:t+"_win",content:e,title:"loading",onshow:i,onremove:s}).showModal()},o)}if(window["DB"].leng=="zh")var r={title:"消 息",ok:"确 定",cancel:"取 消"};else var r={title:"Message",ok:"OK",cancel:"Cancel"};var i="",s="";return{success:l,ok:l,error:c,warning:h,win:p,dialog:n}}),define("selectbox",["jquery","popup"],function(e,t){function n(t,n){t=this.select=e(t),e.extend(this,n||{});var r=this,i=!("minWidth"in t[0].style);if(t.is("[multiple]"))return;t.data("selectbox")&&t.data("selectbox").remove();var s=this._tpl(this.selectboxHtml,e.extend({textContent:r._getOption().html()||""},t.data()));this._selectbox=e(s),this._value=this._selectbox.find("[data-value]"),this.isShowDropdown&&!t.attr("disabled")&&(this._globalKeydown=e.proxy(this._globalKeydown,this),this._selectbox.on(this._clickType+" focus blur",function(e){r[r._clickType===e.type?"click":e.type]()})),this._selectbox.css({width:t.outerWidth()+"px"}),t.on("focus blur",function(e){r[e.type](),e.preventDefault()}).on("change",function(){var e=r._getOption().html();r._value.html(e)}),t.css({opacity:0,position:"absolute",left:i?"-9999px":"auto",right:"auto",top:"auto",bottom:"auto",zIndex:this.isShowDropdown?-1:1}).data("selectbox",this),t.after(this._selectbox)}var r=function(){};return r.prototype=t.prototype,n.prototype=new r,e.extend(n.prototype,{selectboxHtml:'<div class="ui-selectbox" hidefocus="true" style="user-select:none" onselectstart="return false" tabindex="-1" aria-hidden><div class="ui-selectbox-inner" data-value="">{{textContent}}</div><i class="ui-selectbox-icon"></i></div>',dropdownHtml:'<dl class="ui-selectbox-dropdown">{{options}}</dl>',optgroupHtml:'<dt class="ui-selectbox-optgroup">{{label}}</dt>',optionHtml:'<dd class="ui-selectbox-option {{className}}" data-option="{{index}}" tabindex="-1">{{textContent}}</dd>',selectedClass:"ui-selectbox-selected",disabledClass:"ui-selectbox-disabled",focusClass:"ui-selectbox-focus",openClass:"ui-selectbox-open",isShowDropdown:!("createTouch"in document),selectedIndex:0,value:"",close:function(){this._popup&&(this._popup.close().remove(),this.change())},show:function(){var n=this,r=this.select,i=n._selectbox;if(!r[0].length)return!1;var s=20,o=r.outerHeight(),u=r.offset().top-e(document).scrollTop(),a=e(window).height()-u-o,f=Math.max(u,a)-s,l=this._popup=new t;l.node.innerHTML=this._dropdownHtml(),this._dropdown=e(l.node),e(l.backdrop).css("opacity",0).on(this._clickType,e.proxy(this.close,this));var c=n._dropdown.children(),h=!("minWidth"in c[0].style);c.css({minWidth:i.innerWidth(),maxHeight:f,overflowY:"auto",overflowX:"hidden"}),this._dropdown.on(this._clickType,"[data-option]",function(t){var r=e(this).data("option");n.selected(r),n.close(),t.preventDefault()}),l.onshow=function(){e(document).on("keydown",n._globalKeydown),i.addClass(n.openClass),n.selectedIndex=r[0].selectedIndex,n.selected(n.selectedIndex)},l.onremove=function(){e(document).off("keydown",n._globalKeydown),i.removeClass(n.openClass)},this._oldValue=this.select.val(),l.showModal(i[0]),h&&(c.css({width:Math.max(i.innerWidth(),c.outerWidth()),height:Math.min(f,c.outerHeight())}),l.reset())},selected:function(e){if(this._getOption(e).attr("disabled"))return!1;var t=this._dropdown,n=this._dropdown.find("[data-option="+e+"]"),r=this.select[0].options[e].value,i=this.select[0].selectedIndex,s=this.selectedClass;return t.find("[data-option="+i+"]").removeClass(s),n.addClass(s),n.focus(),this._value.html(this._getOption(e).html()),this.value=r,this.selectedIndex=e,this.select[0].selectedIndex=this.selectedIndex,this.select[0].value=this.value,!0},change:function(){this._oldValue!==this.value&&this.select.triggerHandler("change")},click:function(){this.select.focus(),this._popup&&this._popup.open?this.close():this.show()},focus:function(){this._selectbox.addClass(this.focusClass)},blur:function(){this._selectbox.removeClass(this.focusClass)},remove:function(){this.close(),this._selectbox.remove()},_clickType:"onmousedown"in document?"mousedown":"touchstart",_getOption:function(e){return e=e===undefined?this.select[0].selectedIndex:e,this.select.find("option").eq(e)},_tpl:function(e,t){return e.replace(/{{(.*?)}}/g,function(e,n){return t[n]})},_dropdownHtml:function(){var t="",n=this,r=this.select,i=r.data(),s=0,o=function(r){r.each(function(){var r=e(this),o="";this.selected?o=n.selectedClass:o=this.disabled?n.disabledClass:"",t+=n._tpl(n.optionHtml,e.extend({value:r.val(),textContent:r.html(),index:s,className:o},r.data(),i)),s++})};return r.find("optgroup").length?r.find("optgroup").each(function(r){t+=n._tpl(n.optgroupHtml,e.extend({index:r,label:this.label},e(this).data(),i)),o(e(this).find("option"))}):o(r.find("option")),this._tpl(this.dropdownHtml,{options:t})},_move:function(e){var t=0,n=this.select[0].length-1,r=this.select[0].selectedIndex+e;r>=t&&r<=n&&(this.selected(r)||this._move(e+e))},_globalKeydown:function(e){var t;switch(e.keyCode){case 8:t=!0;break;case 9:case 27:case 13:this.close(),t=!0;break;case 38:this._move(-1),t=!0;break;case 40:this._move(1),t=!0}t&&e.preventDefault()}}),function(t,r){t.type==="select"?new n(t,r):e(t).each(function(){new n(this,r)})}}),function(e){function o(){try{return r in e&&e[r]}catch(t){return!1}}var t={},n=e.document,r="localStorage",i="script",s;t.disabled=!1,t.set=function(e,t){},t.get=function(e){},t.remove=function(e){},t.clear=function(){},t.transact=function(e,n,r){var i=t.get(e);r==null&&(r=n,n=null),typeof i=="undefined"&&(i=n||{}),r(i),t.set(e,i)},t.getAll=function(){},t.forEach=function(){},t.serialize=function(e){return JSON.stringify(e)},t.deserialize=function(e){if(typeof e!="string")return undefined;try{return JSON.parse(e)}catch(t){return e||undefined}};if(o())s=e[r],t.set=function(e,n){return n===undefined?t.remove(e):(s.setItem(e,t.serialize(n)),n)},t.get=function(e){return t.deserialize(s.getItem(e))},t.remove=function(e){s.removeItem(e)},t.clear=function(){s.clear()},t.getAll=function(){var e={};return t.forEach(function(t,n){e[t]=n}),e},t.forEach=function(e){for(var n=0;n<s.length;n++){var r=s.key(n);e(r,t.get(r))}};else if(n.documentElement.addBehavior){var u,a;try{a=new ActiveXObject("htmlfile"),a.open(),a.write("<"+i+">document.w=window</"+i+'><iframe src="/favicon.ico"></iframe>'),a.close(),u=a.w.frames[0].document,s=u.createElement("div")}catch(f){s=n.createElement("div"),u=n.body}function l(e){return function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(s),u.appendChild(s),s.addBehavior("#default#userData"),s.load(r);var i=e.apply(t,n);return u.removeChild(s),i}}var c=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function h(e){return e.replace(/^d/,"___$&").replace(c,"___")}t.set=l(function(e,n,i){return n=h(n),i===undefined?t.remove(n):(e.setAttribute(n,t.serialize(i)),e.save(r),i)}),t.get=l(function(e,n){return n=h(n),t.deserialize(e.getAttribute(n))}),t.remove=l(function(e,t){t=h(t),e.removeAttribute(t),e.save(r)}),t.clear=l(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(r);for(var n=0,i;i=t[n];n++)e.removeAttribute(i.name);e.save(r)}),t.getAll=function(e){var n={};return t.forEach(function(e,t){n[e]=t}),n},t.forEach=l(function(e,n){var r=e.XMLDocument.documentElement.attributes;for(var i=0,s;s=r[i];++i)n(s.name,t.deserialize(e.getAttribute(s.name)))})}try{var p="__storejs__";t.set(p,p),t.get(p)!=p&&(t.disabled=!0),t.remove(p)}catch(f){t.disabled=!0}t.enabled=!t.disabled,typeof module!="undefined"&&module.exports&&this.module!==module?module.exports=t:typeof define=="function"&&define.amd?define("store",t):e.store=t}(Function("return this")()),define("searchauto",["jquery"],function(e){function u(s){t=e('<ul id="'+s+'"></ul>').appendTo(document.body).on("mouseenter","li",function(){var t=e(this);i=t.index(),t.siblings().removeClass("current"),t.addClass("current")}).on("mouseleave","li",function(){e(this).removeClass("current")}).on("click","li",function(){var i=r[e(this).index()].keys;n.val(i),t.hide(),e(".so:visible form")[0].submit()})}function a(e){try{if(e.target.parentNode.id=="auto_complete_layer")return;t.hide()}catch(n){}}function f(){e("input.s_key_input").focus(function(){e(document).on("mousedown",a)}).blur(function(){e(document).off("mousedown",a)}).on("keyup",function(a){var f=a.which;if(f==13)return;if(f==38||f==40){try{if(!t.length||t.is(":hidden"))return}catch(l){return}var c=t.find("li"),h=c.length,p=i;f==38?i--:i++;if(i>=h||i<0)i=f==38?h:-1;if(i===-1||i===h){n.val(s),c.removeClass("current");return}p!==-1&&c.eq(p).removeClass("current");var d=c.eq(i).addClass("current").text();n.val(r[i].keys);return}n=e(this);var v=n.val();if(v.length<3){try{t.hide()}catch(l){return}return}if(v===s)return;s=v;var m="auto_complete_layer";e("#"+m).length||u(m);var g="";e.get("/index.php?app=search&search_type=remind&lang="+o,{search_keyword:v},function(i){if(!i.done)return;if(i.retval.len){r=i.retval.rows,e.each(i.retval.rows,function(e,t){g+="<li>"+t.connect+"</li>"});var s=n.offset();t.html(g).css({width:n.outerWidth()-2,left:s.left,top:s.top+n.outerHeight(),display:"block"})}else t.hide()},"json")})}var t=null,n=null,r=null,i=-1,s="",o=window.DB.leng;return{init:f}}),define("loginwin_v1",["module","jquery","message"],function(e,t,n){function o(e){try{var i=e.data.init}catch(o){var i=t.noop()}try{var u=e.data.cfun}catch(o){var u=t.noop()}try{var a=e.data.wfun}catch(o){var a=t.noop()}var f="win_new_login_form";n.win(f,function(){var e=this,n=t("#"+f);t("#error_"+f).hide(),t("#reset_code_a_"+f).click(),i(),n.data("bind")||(n.data("bind",1),t("#forms_"+f).submit(function(){if(s)return!1;t("#error_"+f).hide();var e=t("#user_name_"+f),n=t.trim(e.val());if(n=="")return t("#error_"+f).text(r=="zh"?"请输入用户名":"Please enter Username").show(),e.focus(),!1;var i=t("#password_"+f),o=t.trim(i.val());if(o=="")return t("#error_"+f).text(r=="zh"?"请输入密码":"Please enter the password").show(),i.focus(),!1;var a=t("#captcha_"+f),l=t.trim(a.val());if(l=="")return t("#error_"+f).text(r=="zh"?"请输入验证码":"Please enter the text in the image").show(),a.focus(),!1;var c={user_name:n,password:o,captcha:l,reqtype:"ajax"};return s=1,t.post("/index.php?app=member&act=login",c,function(e){s=0;if(!e.done){var n=e.msg;a.val(""),t("#reset_code_a_"+f).click();if(n==="auth_failed")return t("#error_"+f).text(r=="zh"?"密码错误":"Wrong password").show(),i.focus(),!1;if(n==="captcha_failed")return t("#error_"+f).text(r=="zh"?"验证码错误":"Captcha error").show(),t("#reset_code_a_"+f).click(),!1}else u(e.retval)},"json"),!1})),e.title("　"),n.find(":input").each(function(){var e=t(this);if(!e.prop("readonly")&&e.val()=="")return e.focus(),!1})},a)}var r=window.DB.leng,i=n.dialog,s=0;return{open:o,dialog:i}}),function(e){typeof define=="function"&&define.amd?define("placeholder",["jquery"],e):typeof exports=="object"?e(require("jquery")):e(jQuery)}(function(e){var t="placeholder",n=document,r=Object.prototype.toString.call(window.operamini)=="[object OperaMini]",i="placeholder"in n.createElement("input")&&"placeholder"in n.createElement("textarea")&&!r,s={FOCUS:"focus.placeholder",BLUR:"blur.placeholder"},o={cssClass:"placeholder",normalize:!1},u=e.fn.val,a=function(t){return e.nodeName(t,"input")||e.nodeName(t,"textarea")},f=function(t){var n=["placeholder","name","id"],r={},i;for(var s=0,o=t.attributes.length;s<o;s++)i=t.attributes[s],i.specified&&e.inArray(i.name,n)<0&&(r[i.name]=i.value);return r},l=function(e){e.css({position:"",left:""})},c=function(e){e.css({position:"absolute",left:"-9999em"})};if(i&&!o.normalize)return;i?i&&o.normalize&&(e.fn.val=function(){var n=arguments,r=this[0];if(!r)return;return n.length?this.each(function(r,i){var s=e(i),o=e.data(i,t),f=i._placeholder;o&&f&&a(i)&&(!n[0]&&i.value!==f?s.addClass(o.cssClass).attr("placeholder",f):n[0]&&s.hasClass(o.cssClass)&&s.removeClass(o.cssClass)),u.apply(s,n)}):u.apply(this,n)}):e.fn.val=function(){var n=arguments,r=this[0],i;if(!r)return;return n.length?this.each(function(r,i){var s=e(i),o=e.data(i,t),f=s.attr("placeholder");o&&f&&a(i)?!n[0]&&i.value!==f?i.value=s.addClass(o.cssClass).attr("placeholder"):n[0]&&(s.hasClass(o.cssClass)&&s.removeClass(o.cssClass),u.apply(s,n)):u.apply(s,n)}):(i=e(r).attr("placeholder"),i&&a(r)?r.value===i?"":r.value:u.apply(this,n))},e.fn[t]=function(n){var r=e.extend(o,n);if(!this.length||i&&!r.normalize)return;return n==="destroy"?this.filter(function(n,r){return e.data(r,t)}).removeClass(r.cssClass).each(function(n,r){var s=e(r).unbind(".placeholder"),o=r.type==="password",a=s.attr("placeholder");i?delete r._placeholder:(r.value===a&&(r.value=""),o&&(l(s),s.prev().unbind(".placeholder").remove())),e.fn.val=u,e.removeData(r,t)}):this.each(function(n,o){if(e.data(o,t))return;e.data(o,t,r);var u=e(o),a=o.type==="password",h=u.attr("placeholder"),p=null,d=null,v=null;i?i&&r.normalize&&(o._placeholder=u.attr("placeholder"),d=function(){o.value||u.addClass(r.cssClass).attr("placeholder",h)},v=function(){u.removeAttr("placeholder").removeClass(r.cssClass)}):(d=function(){u.val()?u.val()&&a&&v():a?(l(p),c(u)):u.val(h).addClass(r.cssClass)},a?(v=function(){l(u),c(p)},p=e("<input>",e.extend(f(o),{type:"text",value:h,tabindex:-1})).addClass(r.cssClass).bind(s.FOCUS,function(){u.trigger(s.FOCUS)}).insertBefore(u)):v=function(){u.hasClass(r.cssClass)&&(o.value="",u.removeClass(r.cssClass))}),u.bind(s.BLUR,d).bind(s.FOCUS,v).trigger(s.BLUR)})},e(function(){e("input[placeholder], textarea[placeholder]")[t]()})}),define("pubjs",["placeholder"],function(){function t(e,t){var n=e,r=t,i=navigator.userAgent.toLowerCase();if(i.indexOf("360se")>-1)alert("由于360浏览器功能限制，请按 Ctrl+D 手动收藏！");else if(i.indexOf("msie 8")>-1)window.external.AddToFavoritesBar(n,r);else if(document.all)try{window.external.addFavorite(n,r)}catch(s){alert("您的浏览器不支持,请按 Ctrl+D 手动收藏!")}else window.sidebar?window.sidebar.addPanel(r,n,""):alert("您的浏览器不支持,请按 Ctrl+D 手动收藏!")}$(".chat").click(function(){window.open("http://cs.ecqun.com/cs/?id=660133&cid=659827&scheme=0&handle=&url=http%3A%2F%2Fwww.molbase.com%2Fzh%2Findex.html&version=4.0.0.0","newwindow","height=5, width=890, toolbar =no, menubar=no, scrollbars=no, resizable=no, location=no, status=no")}),$(document).ready(function(){window.DB.READY=!0});var e=$.now();$.post("/zh/index.php?app=default&act=cart_value&v="+e,{t:e},function(e){$(".login-load").show();if(e.done){var t=e.retval.n,n=e.retval.tips;e.retval.l?($("#login").fadeIn("fast"),$("#user_name").text(t).fadeIn("fast"),$("#login .exit").fadeIn("fast"),n<=0?($("#message").fadeIn("fast"),$("#message .message").hide(),$("#message .no-message").fadeIn("fast")):($("#message").fadeIn("fast"),$("#message .message").fadeIn("fast"),$("#tips").text(n),$("#message .no-message").hide()),typeof ga!="undefined"&&e.retval.i>0&&ga("set","&uid",e.retval.i)):($("#user_name").hide(),$(".vistor").fadeIn("fast"),$("#login .exit").hide(),$("#message").hide(),$("#no-login").fadeIn("fast"),$("#login").fadeIn("fast"))}},"json"),$("#login .exit").click(function(){$("#user_name").hide(),$(".vistor").show(),$("#login .exit").hide(),$("#message").hide(),$("#no-login").show(),$.post("/zh/index.php?app=member&act=ajaxLogout",function(e){},"json")}),$(".collect").click(function(){t("摩贝化合物搜索","http://www.molbase.com")}),window.onscroll=function(){var e=document.documentElement.scrollTop||document.body.scrollTop;e>300?$(".fix_nav ul li.top").fadeIn():$(".fix_nav ul li.top").fadeOut()},$(".fix_nav ul li.top").click(function(){return $("html,body").animate({scrollTop:"0px"},800),!1}),$(".search .tab li").click(function(){var e=$(this).attr("data-id");$(this).addClass("cur"),$(this).siblings().removeClass("cur"),$(this).parent().siblings(".f"+e).show(),$(this).parent().siblings(".f"+e).siblings(".so").hide();var t=(e+1)%3?(e+1)%3:3,n=(e-1)%3?(e-1)%3:3;$(" .search #keyword_"+e).css("display","block"),$(" .search #keyword_"+t).css("display","none"),$(" .search #keyword_"+n).css("display","none")}),new Marquee("link",0,.1,1040,20,20,3e3,1e3,20)}),define("top10",["module","jquery","message"],function(e,t,n){t(document).ready(function(){function i(e){var n=-e*r;t(".top10 .banner").stop(!0,!1).animate({left:n},300),t(".top10 .btn span").removeClass("cur").eq(e).addClass("cur")}var e=2,n=0,r=1150;t(".top10 .btn span").mouseover(function(){n=t(".top10 .btn span").index(this),t(this).addClass("on"),t(this).siblings().removeClass("cur"),i(n)}).eq(0).trigger("mouseover"),t(".top10 .pre").click(function(){n-=1,n==-1&&(n=e-1),i(n)}),t(".top10 .next").click(function(){n+=1,n==e&&(n=0),i(n)})})}),define("page/keyword",["module","jquery","message","message_new","selectbox","store","searchauto","loginwin_v1","pubjs","top10"],function(module,$,message,message_new,selectbox,store,searchauto,loginwin){function fun_suggest_price(o_data){if(!o_data)return!1;var tpl=o_data.tpl;message.win(tpl,function(){this.title("参考建议价"),$("#suggest_form input[name='email']").val(o_data.login_user_email),$("#suggest_form input[name='name']").val(o_data.name),$("#suggest_form input[name='name_en']").val(o_data.name_en),$("#suggest_form input[name='cas_no']").val(o_data.cas_no),$("#suggest_form input[name='org_price']").val(o_data.org_price),$("#suggest_form .suggest_goods_name").text(o_data.pname+"参考价的建议"),$("#suggest_form input[name='email']").focus(function(){$(this).removeClass("error").parent().children(".error").remove()}),$("#suggest_form input[name='suggest_price']").focus(function(){$(this).removeClass("error").parent().children(".error").remove()}),$("#"+tpl).data("bind")||($("#"+tpl).data("bind",1),$("#close_"+tpl).on("click",function(){o_data.dialog.get(tpl+"_win").remove()}),$("#suggest_form").on("submit",function(){$("#suggest_form input[name='email']").removeClass("error").parent().children(".error").remove(),$("#suggest_form input[name='suggest_price']").removeClass("error").parent().children(".error").remove();var email=$("#suggest_form input[name='email']").val(),suggest_price=$("#suggest_form input[name='suggest_price']").val()*1;if(suggest_price<=0||isNaN(suggest_price))return $("#suggest_form input[name='suggest_price']").addClass("error").parent().append('<span class="error">建议价格不正确</span>'),!1;if(email==""||email==undefined)return $("#suggest_form input[name='email']").addClass("error").after('<span class="error">邮箱地址不能为空</span>'),!1;var mail_reg=/^(.+[a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(!mail_reg.test(email))return $("#suggest_form input[name='email']").addClass("error").after('<span class="error">邮箱格式错误</span>'),!1;var db={user_id:$("#get_user_id").val(),email:email,suggest_price:suggest_price,name:$("#suggest_form input[name='name']").val(),name_en:$("#suggest_form input[name='name_en']").val(),cas_no:$("#suggest_form input[name='cas_no']").val(),org_price:$("#suggest_form input[name='org_price']").val(),unit:$("#suggest_form select[name='unit']").val(),currency:$("#suggest_form select[name='currency']").val(),suggest:$("#suggest_form textarea[name='suggest']").val(),reqtype:"ajax"};return $.post("/index.php?app=suggest_price&act=ajax_suggest_price",db,function(rs){var rs=eval("("+rs+")");$("#close_"+tpl).click(),rs.done?message.ok(rs.msg_str):message.error(rs.msg_str)}),!1}))},function(){$("#no-login").css("display")=="block"&&window.location.reload()})}var form_id=null,eventobjs=null,scrollFun=function(e,t){var n=e.offset().top.toInt()+80,r=$(window).scrollTop().toInt(),i=$(window).height().toInt(),s=n-i;r>=s?t.css("position","relative"):t.css("position","fixed")},inquiry={addInquiryForm:null,inquiryData:{isShow:1,data:{}},init:function(){var e=this,t=store.get("inquiryData"),n=window.location.href,r=n.lastIndexOf("?");r!=-1&&(n=n.substring(0,r)),store.get("inquiryDataUrl")!=n&&(t=undefined),store.set("inquiryDataUrl",n),e.addInquiryForm=$("#add_inquiry_form"),typeof t!="undefined"&&typeof t["data"]!="undefined"&&(this.inquiryData=t),e.showInquiryData(function(){e.addInquiryForm.on("click",".del_inquiry",function(){var t=$(this).data("inquiry_id");e.delData(t)}),e.addInquiryForm.on("click",".mark_inquiry",function(){var t={},n=$(this).find(":checkbox");t.id=n.val(),n.prop("checked")?t.checked=1:t.checked=0,e.setChecked(t)})}),e.updateChecked()},showInquiryData:function(e){var t="",n=0;for(var r in this.inquiryData.data){n++;var i=this.inquiryData.data[r].checked?"checked":"";t+='<li id="per_inquiry_'+this.inquiryData.data[r].id+'" >'+'<label class="mark_inquiry" ><input type="hidden" id="add_inquiry_'+this.inquiryData.data[r].id+'" name="add_inquiry[]" value="'+this.inquiryData.data[r].id+'" '+i+" /><span>"+this.inquiryData.data[r].companyName+'</span></label><i class="del_inquiry" data-inquiry_id="'+this.inquiryData.data[r].id+'" id="inquiry_'+this.inquiryData.data[r].id+'">X</i></li>';var s=$("#add_inquiry_mark_"+this.inquiryData.data[r].id);s.prop("checked",!0)}this.addInquiryForm.html(t),this.showForm(),this.inquiryData.isShow&&(n==0?$("#compare_done").css("display","none"):$("#compare_done").css("display","block")),$("#add_inquiry_num").html(n),typeof e=="function"&&e()},setData:function(e){var t=0;for(var n in this.inquiryData.data)t++;var r=$("#multi_inquiry").data("inquired");if(t>=6-r){this.updateChecked(),message_new.win("public_form_win",function(){this.title("消息提示"),r>0?$("#public_form_win").find("p").html("您今天对当前化合物已询盘了"+r+"家供应商，您最多还可以向"+(6-r)+"家供应商询盘"):$("#public_form_win").find("p").html("对比栏已满，您可以删除不需要的商家再继续添加哦！")});return}var i="k"+e.id;typeof this.inquiryData.data[i]=="undefined"&&(this.inquiryData.data[i]=e,e.checked=1,this.showInquiryData(),store.set("inquiryData",this.inquiryData))},delData:function(e){var t="k"+e;typeof this.inquiryData.data[t]!="undefined"&&($("#"+this.inquiryData.data[t].rid).prop("checked",!1),delete this.inquiryData.data[t],this.showInquiryData(),store.set("inquiryData",this.inquiryData))},updateChecked:function(){$(".add_inquiry").find(":checkbox").prop("checked",!1);for(var e in this.inquiryData.data)$("#"+this.inquiryData.data[e].rid).prop("checked",!0)},clearData:function(){for(var e in this.inquiryData.data)delete this.inquiryData.data[e];$(".add_inquiry").find(":checkbox").prop("checked",!1),this.showInquiryData(),store.set("inquiryData",this.inquiryData)},setShow:function(e){this.showForm(e),this.inquiryData.isShow=e,store.set("inquiryData",this.inquiryData)},setChecked:function(e){var t="k"+e.id;typeof this.inquiryData.data[t]!="undefined"&&(this.inquiryData.data[t].checked=e.checked,store.set("inquiryData",this.inquiryData))},showForm:function(e){typeof e=="undefined"&&(e=this.inquiryData.isShow),e?($("#compare_done").css("display","block"),$(".fix-compare-ico").css("display","none")):($("#compare_done").css("display","none"),$(".fix-compare-ico").css("display","block"))},submit:function(){var e=$("input[name='add_inquiry[]']"),t="",n="",r=$("#multi_inquiry").data("casno");for(var i=0;i<e.length;i++)e[i].checked&&(n?t+=e[i].value+",":(n=e[i].value,n=n.replace("-","&sid=")));t=t.substr(0,t.length-1);var s="/index.php?app=input_inquiry&act=index&pid="+n+"&casno="+r+"&la=search&type=cas&multi="+t;inquiry.clearData(),location.href=s}},dialog=message.dialog;$(document).ready(function(){searchauto.init(),inquiry.init();var e=$(".fix_compare"),t=$(".tag");scrollFun(t,e),window.onscroll=function(){scrollFun(t,e)},window.onresize=function(){scrollFun(t,e)},$(".other_info ul li").mouseover(function(){$(this).addClass("cur").siblings().removeClass("cur");var e=$(this).data("id");$(".other_info .t"+e).show().siblings(".tab-con").hide()}),$(".interes_tab li").mouseover(function(){$(this).addClass("curr").siblings().removeClass("curr");var e=$(this).data("id");$(".interest_list_long .tb"+e).show().siblings(".interest_page").hide()}),$(".add_inquiry :checkbox").on("click",function(e){var t=$(this),n=t.val();if(t[0].checked){var r={};r.companyName=t.parent().data("name"),r.id=n,r.rid=t.attr("id"),inquiry.setData(r)}else inquiry.delData(n)}),$("#multi_inquiry").on("click",function(e){inquiry.submit()}),$("#inquiry_clear").on("click",function(e){inquiry.clearData()}),$("#inquiry_hide").on("click",function(e){inquiry.setShow(0)}),$("#show_inquiry_in").click(function(){inquiry.setShow(1)}),document.getElementById("category_1")!=null&&(selectbox(document.getElementById("category_1")),selectbox(document.getElementById("category_2")),selectbox(document.getElementById("category_3")),selectbox(document.getElementById("category_4")),selectbox(document.getElementById("category_5"))),$(".select").change(function(){var e=$(this);$("select").attr("disabled","disabled");var t=$.trim(e.find("option:selected").data("url"));window.location.href=t}),$(".expand .more").click(function(){$(this).toggleClass("cur"),$(this).parents("tr").siblings("tr").find(".other").slideToggle(),$(this).parents("tr").siblings("tr").find(".first").toggleClass("cur")}),$("#category_1").css("disabled","disabled");var n=null,r=message.dialog,i,n,s,o,u,a,f,l=$("#get_user_id").val(),r=message.dialog;$(".suggest_price").on("click",function(){n=$(this).data("tpl"),o=$(this).data("pname"),s=$(this).data("name"),u=$(this).data("name_en"),a=$(this).data("cas_no"),f=$(this).data("org_price"),i={tpl:n,pname:o,name:s,name_en:u,cas_no:a,user_id:l,login_user_email:login_user_email,org_price:f,dialog:r};if(undefined==l||"0"==l){loginwin.open({data:{cfun:function(e){login_user_email=e.email,login_company_name=e.company,i.login_user_email=login_user_email,i.user_id=e.user_id,$("#get_user_id").val(e.user_id),r.get("win_new_login_form_win").remove(),fun_suggest_price(i);return},wfun:function(){$("#submit_users_login_form").prop("disabled",!1).removeClass("d")},init:function(){}}});return}fun_suggest_price(i);return})})});